"use strict";(self.webpackChunkaegis_frontend=self.webpackChunkaegis_frontend||[]).push([[23,347],{9347:function(e,n,t){t.r(n),t.d(n,{LoadingSkeleton:function(){return b},SearchBar:function(){return g}});var r=t(1413),a=t(7762),i=t(4165),l=t(5861),s=t(9439),o=t(2791),u=t(1889),c=t(7621),d=t(9504),f=t(7391),Z=t(6151),h=t(7047),x=t(4927),m=t(7408),p=t(9917),j=t(4891),v=t(184);function g(e){var n=e.search,t=e.setSearch,r=o.useState(n),a=(0,s.Z)(r,2),i=a[0],l=a[1];return(0,v.jsx)(u.ZP,{item:!0,xs:12,children:(0,v.jsx)(c.Z,{sx:{width:"100%"},children:(0,v.jsx)(d.Z,{children:(0,v.jsxs)(j.Z,{alignItems:"flex-end",spacing:1,children:[(0,v.jsx)(f.Z,{fullWidth:!0,type:"search",label:"Search",value:i,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(i)}}),(0,v.jsx)(Z.Z,{variant:"contained",onClick:function(){return t(i)},children:"Search"})]})})})})}function b(e){return(0,v.jsx)(u.ZP,{item:!0,xs:12,children:(0,v.jsx)(h.Z,{variant:"rectangular",height:"15vh",width:"100%"})})}n.default=function(e){var n=o.useState(!0),t=(0,s.Z)(n,2),u=t[0],c=t[1],d=o.useState([]),f=(0,s.Z)(d,2),Z=f[0],h=f[1],j=o.useState([]),C=(0,s.Z)(j,2),S=C[0],w=C[1];o.useEffect((function(){function e(){return(e=(0,l.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.people.getPeople();case 2:n=e.sent,h(n),w(n),c(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=o.useState(""),N=(0,s.Z)(k,2),y=N[0],W=N[1];return o.useEffect((function(){c(!0)}),[y]),o.useEffect((function(){if(Z&&y&&u){var e,n=y.toLowerCase(),t=[],r=(0,a.Z)(Z);try{for(r.s();!(e=r.n()).done;){var i=e.value;("".concat(i.firstName," ").concat(i.lastName).toLowerCase().includes(n)||i.email.toLowerCase().includes(n)||i.phone.toLowerCase().includes(n)||i.address.toLowerCase().includes(n))&&t.push(i)}}catch(l){r.e(l)}finally{r.f()}w(t),c(!1)}else Z&&u&&!y&&(w(Z),c(!1))}),[Z,y,u,w]),(0,v.jsxs)(x.u,{children:[(0,v.jsx)(g,{search:y,setSearch:W}),u?[1,2,3,4,5].map((function(e){return(0,v.jsx)(b,{},e)})):S.map((function(e){return(0,v.jsx)(m.Z,(0,r.Z)({},e),e.id)}))]})}},7408:function(e,n,t){var r=t(9439),a=t(2791),i=t(68),l=t(3400),s=t(2363),o=t(4554),u=t(1889),c=t(7621),d=t(9585),f=t(8562),Z=t(4281),h=t(6601),x=t(6002),m=t(5584),p=t(1286),j=t(7247),v=t(1087),g=t(9015),b=t(9690),C=t(943),S=t(9917),w=t(184);function k(e){var n=e.title,t=e.url,r=e.children;return(0,w.jsx)(v.rU,{to:t,target:"_blank",children:(0,w.jsx)(i.Z,{title:n,children:(0,w.jsx)(l.Z,{"aria-label":n,children:r})})})}function N(e){var n=e.id,t=e.firstName,i=e.lastName,s=e.title,o=e.address,u=e.email,c=e.phone,d=e.supervisor,f=e.teams,Z=a.useContext(b.ZP),h=a.useState(!1),x=(0,r.Z)(h,2),m=x[0],v=x[1],k=a.useState(!1),N=(0,r.Z)(k,2),y=N[0],W=N[1];return Z.admin?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.Z,{"aria-label":"Edit Person",onClick:function(){return v(!0)},children:(0,w.jsx)(p.Z,{fontSize:"large"})}),(0,w.jsx)(l.Z,{"aria-label":"Delete Person",onClick:function(){return W(!0)},children:(0,w.jsx)(j.Z,{fontSize:"large"})}),(0,w.jsx)(g.Z,{open:m,close:function(){return v(!1)},person:{id:n,firstName:t,lastName:i,title:s,address:o,phone:c,email:u,supervisor:d,teams:f}}),(0,w.jsx)(C.Z,{open:y,close:function(){return W(!1)},callback:function(){return S.Z.people.deletePerson(n)},text:"Are you sure you want to delete the entry for ".concat(t," ").concat(i,"?")})]}):null}function y(e){var n=e.id,t=e.firstName,u=e.lastName,c=e.title,d=e.address,p=e.email,j=e.phone,v=e.supervisor,C=e.teams,S=a.useContext(b.ZP),y="";d&&(y="https://www.google.com/maps/place/".concat(encodeURIComponent(d)));var W=a.useState(!1),P=(0,r.Z)(W,2),E=P[0],T=P[1];return(0,w.jsxs)(s.Z,{children:[S.admin?null:(0,w.jsx)(i.Z,{title:"More Info",children:(0,w.jsx)(l.Z,{"aria-label":"More Info",onClick:function(){return T(!0)},children:(0,w.jsx)(m.Z,{fontSize:"large"})})}),(0,w.jsx)(N,{id:n,firstName:t,lastName:u,title:c,address:d,email:p,phone:j,supervisor:v,teams:C}),(0,w.jsx)(o.Z,{sx:{flexGrow:1}}),(0,w.jsx)(k,{title:"View Address",url:y,children:(0,w.jsx)(f.Z,{fontSize:"large"})}),(0,w.jsx)(k,{title:"Send Email",url:"mailto:".concat(p),children:(0,w.jsx)(Z.Z,{fontSize:"large"})}),(0,w.jsx)(k,{title:"Send Text",url:"sms:".concat(j),children:(0,w.jsx)(h.Z,{fontSize:"large"})}),(0,w.jsx)(k,{title:"Call",url:"tel:".concat(j),children:(0,w.jsx)(x.Z,{fontSize:"large"})}),(0,w.jsx)(g.Z,{open:E,close:function(){return T(!1)},viewOnly:!0,person:{id:n,firstName:t,lastName:u,title:c,address:d,phone:j,email:p,supervisor:v,teams:C}})]})}n.Z=function(e){var n=e.id,t=e.firstName,r=e.lastName,a=e.title,i=e.address,l=e.email,s=e.phone,o=e.supervisor,f=e.teams;return(0,w.jsx)(u.ZP,{item:!0,xs:12,children:(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(d.Z,{title:"".concat(t," ").concat(r),subheader:a}),(0,w.jsx)(y,{id:n,firstName:t,lastName:r,title:a,address:i,email:l,phone:s,supervisor:o,teams:f})]})})}},6280:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(9439),a=t(2791),i=t(3400),l=t(68),s=t(3967),o=t(1889),u=t(7621),c=t(9585),d=t(3044),f=t(2363),Z=t(4554),h=t(8562),x=t(4281),m=t(6002),p=t(5584),j=t(5536),v=t(1286),g=t(7247),b=t(1087),C=t(1413),S=t(1918),w=t(5289),k=t(5661),N=t(9157),y=t(3767),W=t(7391),P=t(4721),E=t(7123),T=t(6151),z=t(184);function I(e){var n=e.name,t=e.id;return(0,z.jsx)(b.rU,{to:"/people?search=".concat(t),style:{textDecoration:"none",color:"inherit"},children:(0,z.jsx)(S.Z,{label:n,color:"primary",clickable:!0})})}var A=function(e){var n=e.open,t=e.close,r=e.name,a=e.address,i=e.email,l=e.phone,s=e.admins||[];return(0,z.jsxs)(w.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:t,children:[(0,z.jsx)(k.Z,{align:"center",children:"Team Info"}),(0,z.jsx)(N.Z,{children:(0,z.jsxs)(y.Z,{spacing:1,sx:{marginTop:1},children:[(0,z.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Name",value:r}),(0,z.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Address",value:a}),(0,z.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Email",value:i}),(0,z.jsx)(W.Z,{disabled:!0,fullWidth:!0,label:"Phone",value:l}),(0,z.jsx)(P.Z,{children:"Admins"}),(0,z.jsx)(y.Z,{direction:"row",spacing:1,children:s.map((function(e){return(0,z.jsx)(I,(0,C.Z)({},e),e.id)}))})]})}),(0,z.jsx)(E.Z,{children:(0,z.jsx)(T.Z,{variant:"contained",onClick:t,children:"Close"})})]})},L=t(9690),V=t(593),O=t(943),D=t(9917);function U(e){var n=e.team,t=a.useContext(L.ZP),l=a.useState(!1),s=(0,r.Z)(l,2),o=s[0],u=s[1],c=a.useState(!1),d=(0,r.Z)(c,2),f=d[0],Z=d[1];return t.admin?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.Z,{"aria-label":"Edit Team",onClick:function(){return u(!0)},children:(0,z.jsx)(v.Z,{fontSize:"large"})}),(0,z.jsx)(i.Z,{"aria-label":"Delete Team",onClick:function(){return Z(!0)},children:(0,z.jsx)(g.Z,{fontSize:"large"})}),(0,z.jsx)(V.Z,{open:o,close:function(){return u(!1)},team:n}),(0,z.jsx)(O.Z,{open:f,close:function(){return Z(!1)},callback:function(){return D.Z.org.deleteTeam(n.id)},text:"Are you sure you want to delete the entry for ".concat(n.name,"?")})]}):null}function _(e){var n=e.title,t=e.to,r=e.icon,a=e.external;return t?(0,z.jsx)(b.rU,{to:t,target:a?"_blank":"_self",children:(0,z.jsx)(l.Z,{title:n,children:(0,z.jsx)(i.Z,{"aria-label":n,children:r})})}):(0,z.jsx)(l.Z,{title:n,children:(0,z.jsx)("span",{children:(0,z.jsx)(i.Z,{"aria-label":n,disabled:!0,children:r})})})}var M=function(e){var n=(0,s.Z)(),t=e.name,v=e.id,g=e.memberCount,b=e.address,C=e.email,S=e.phone,w=e.admins,k=e.noLink,N="";b&&(N="https://www.google.com/maps/place/".concat(encodeURIComponent(b)));var y="";C&&(y="mailto:".concat(C));var W="";S&&(W="tel:".concat(S));var P=a.useState(!1),E=(0,r.Z)(P,2),T=E[0],I=E[1];return a.useEffect((function(){return function(){return I(!1)}}),[]),(0,z.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,z.jsxs)(u.Z,{children:[(0,z.jsx)(c.Z,{title:t,titleTypographyProps:{variant:"h5"},avatar:(0,z.jsx)(l.Z,{title:"Member Count",children:(0,z.jsx)(d.Z,{sx:{bgcolor:n.palette.primary.dark},children:g})})}),(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(l.Z,{title:"More Info",children:(0,z.jsx)(i.Z,{onClick:function(){return I(!0)},children:(0,z.jsx)(p.Z,{fontSize:"large"})})}),k?null:(0,z.jsx)(_,{title:"Details",to:"/teams/".concat(v),icon:(0,z.jsx)(j.Z,{fontSize:"large"})}),(0,z.jsx)(U,{team:{id:v,name:t,address:b,phone:S,email:C}}),(0,z.jsx)(Z.Z,{sx:{flexGrow:1}}),(0,z.jsx)(_,{external:!0,title:"View Address",to:N,icon:(0,z.jsx)(h.Z,{fontSize:"large"})}),(0,z.jsx)(_,{external:!0,title:"Send Email",to:y,icon:(0,z.jsx)(x.Z,{fontSize:"large"})}),(0,z.jsx)(_,{external:!0,title:"Call",to:W,icon:(0,z.jsx)(m.Z,{fontSize:"large"})})]})]}),(0,z.jsx)(A,{open:T,close:function(){return I(!1)},name:t,address:b,email:C,phone:S,admins:w})]})}},943:function(e,n,t){var r=t(5289),a=t(5661),i=t(9157),l=t(1691),s=t(7123),o=t(6151),u=(t(2791),t(184));n.Z=function(e){var n=e.open,t=e.close,c=e.callback,d=e.text;return(0,u.jsxs)(r.Z,{open:n,onClose:t,children:[(0,u.jsx)(a.Z,{align:"center",children:"Confirmation Dialog"}),(0,u.jsx)(i.Z,{children:(0,u.jsx)(l.Z,{children:d})}),(0,u.jsxs)(s.Z,{children:[(0,u.jsx)(o.Z,{variant:"contained",onClick:t,children:"Cancel"}),(0,u.jsx)(o.Z,{variant:"contained",onClick:function(){c(),t()},children:"Confirm"})]})]})}},9015:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(1413),a=t(9439),i=t(2791),l=t(5289),s=t(5661),o=t(9157),u=t(3767),c=t(7391),d=t(7123),f=t(6151),Z=t(9917),h=t(4165),x=t(5861),m=t(3766),p=t(184);var j=function(e){var n=e.value,t=e.setValue,l=e.disabled,s=i.useState(!0),o=(0,a.Z)(s,2),u=o[0],d=o[1],f=i.useState([]),j=(0,a.Z)(f,2),v=j[0],g=j[1];return i.useEffect((function(){function e(){return(e=(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.people.getShortPeople();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,p.jsx)(m.Z,{disabled:l,fullWidth:!0,loading:u,value:n,options:v,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,p.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Supervisor"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})};var v=function(e){var n=e.value,t=e.setValue,l=e.disabled,s=i.useState(!0),o=(0,a.Z)(s,2),u=o[0],d=o[1],f=i.useState([]),j=(0,a.Z)(f,2),v=j[0],g=j[1];return i.useEffect((function(){function e(){return(e=(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.org.getShortOrgs();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,p.jsx)(m.Z,{multiple:!0,disabled:l,fullWidth:!0,loading:u,value:n,options:v,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,p.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Team"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})},g={id:null,firstName:"",lastName:"",title:"",address:"",email:"",phone:"",supervisor:null,teams:[]};var b=function(e){var n=e.open,t=e.close,h=e.person,x=e.viewOnly,m=function(e){if(!e)return g;var n={};for(var t in g)void 0===e[t]?n[t]=g[t]:n[t]=e[t];return n}(h),b=i.useState(m),C=(0,a.Z)(b,2),S=C[0],w=C[1];function k(){x||null!==h&&void 0!==h&&h.id||w(g),t()}var N="Add New Person";return x?N="Person Info":null!==h&&void 0!==h&&h.id&&(N="Edit Info"),(0,p.jsxs)(l.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:k,children:[(0,p.jsx)(s.Z,{align:"center",children:N}),(0,p.jsx)(o.Z,{children:(0,p.jsxs)(u.Z,{spacing:1,sx:{marginTop:1},children:[(0,p.jsx)(c.Z,{disabled:x,label:"First Name",fullWidth:!0,value:S.firstName,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{firstName:e.target.value}))}}),(0,p.jsx)(c.Z,{disabled:x,label:"Last Name",fullWidth:!0,value:S.lastName,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{lastName:e.target.value}))}}),(0,p.jsx)(c.Z,{disabled:x,label:"Title",fullWidth:!0,value:S.title,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{title:e.target.value}))}}),(0,p.jsx)(c.Z,{disabled:x,label:"Address",fullWidth:!0,value:S.address,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{address:e.target.value}))}}),(0,p.jsx)(c.Z,{disabled:x,label:"Email",fullWidth:!0,value:S.email,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{email:e.target.value}))}}),(0,p.jsx)(c.Z,{disabled:x,label:"Phone",fullWidth:!0,value:S.phone,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{phone:e.target.value}))}}),(0,p.jsx)(j,{disabled:x,value:S.supervisor,setValue:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{supervisor:e}))}}),(0,p.jsx)(v,{disabled:x,value:S.teams,setValue:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{teams:e}))}})]})}),(0,p.jsxs)(d.Z,{children:[(0,p.jsx)(f.Z,{onClick:k,variant:"contained",children:x?"Close":"Cancel"}),x?null:(0,p.jsx)(f.Z,{onClick:function(){var e,n=(0,r.Z)({},S);null!==(e=S.supervisor)&&void 0!==e&&e.id&&(n.supervisor=S.supervisor.id),S.teams.length&&(n.teams=S.teams.map((function(e){return e.id}))),S.id?Z.Z.people.updatePerson(n):Z.Z.people.addPerson(n),k()},variant:"contained",children:"Submit"})]})]})}},593:function(e,n,t){var r=t(4165),a=t(1413),i=t(5861),l=t(9439),s=t(2791),o=t(5289),u=t(5661),c=t(9157),d=t(3767),f=t(7391),Z=t(7123),h=t(6151),x=t(9917),m=t(184),p={id:null,name:"",address:"",email:"",phone:""};n.Z=function(e){var n=e.open,t=e.close,j=e.team,v=p;null!==j&&void 0!==j&&j.id&&(v=j);var g=s.useState(v),b=(0,l.Z)(g,2),C=b[0],S=b[1];function w(){null!==j&&void 0!==j&&j.id||S(p),t()}function k(){return(k=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===j||void 0===j||!j.id){e.next=5;break}return e.next=3,x.Z.org.editTeam(C);case 3:e.next=7;break;case 5:return e.next=7,x.Z.org.addTeam(C);case 7:w();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsxs)(o.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:w,children:[(0,m.jsx)(u.Z,{align:"center",children:null!==j&&void 0!==j&&j.id?"Edit Team":"Add New Team"}),(0,m.jsx)(c.Z,{children:(0,m.jsxs)(d.Z,{spacing:1,sx:{marginTop:1},children:[(0,m.jsx)(f.Z,{label:"Name",fullWidth:!0,value:C.name,onChange:function(e){return S((0,a.Z)((0,a.Z)({},C),{},{name:e.target.value}))}}),(0,m.jsx)(f.Z,{label:"Address",fullWidth:!0,value:C.address,onChange:function(e){return S((0,a.Z)((0,a.Z)({},C),{},{address:e.target.value}))}}),(0,m.jsx)(f.Z,{label:"Email",fullWidth:!0,value:C.email,onChange:function(e){return S((0,a.Z)((0,a.Z)({},C),{},{email:e.target.value}))}}),(0,m.jsx)(f.Z,{label:"Phone",fullWidth:!0,value:C.phone,onChange:function(e){return S((0,a.Z)((0,a.Z)({},C),{},{phone:e.target.value}))}})]})}),(0,m.jsxs)(Z.Z,{children:[(0,m.jsx)(h.Z,{variant:"contained",onClick:w,children:"Cancel"}),(0,m.jsx)(h.Z,{variant:"contained",onClick:function(){return k.apply(this,arguments)},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=23.ca7172eb.chunk.js.map