"use strict";(self.webpackChunkaegis_frontend=self.webpackChunkaegis_frontend||[]).push([[523],{2159:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(4165),a=t(5861),s=t(9439),i=t(1413),l=t(2791),o=t(9886),u=t(5193),c=t(2363),d=t(4554),f=t(3400),Z=t(1889),p=t(7621),h=t(9504),x=t(3766),m=t(7391),v=t(7482),j=t(7831),g=t(8370),b=t(6263),C=t(4927),S=t(9917),N=t(7408),k=t(184);function w(e){var n=e.nodeData;return(0,k.jsx)(N.Z,(0,i.Z)({},n))}function y(e){var n=e.data,t=(0,o.u)(),r=(0,u.Z)(t.breakpoints.down("md")),a=l.useState(r?.4:1),i=(0,s.Z)(a,2),Z=i[0],p=i[1];return l.useEffect((function(){if(r){var e=document.getElementsByClassName("orgchart chart");if(e.length)e[0].style.transform="matrix(".concat(Z,", 0, 0, ").concat(Z,", 0, 0)")}}),[Z,r]),l.useEffect((function(){}),[n,p,r]),r?(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(d.Z,{sx:{flexGrow:1}}),(0,k.jsx)(f.Z,{"aria-label":"Zoom Out",onClick:function(){return p(Z-.1)},disabled:!n.firstName||Z<=.2,children:(0,k.jsx)(j.Z,{fontSize:"large"})}),(0,k.jsx)(f.Z,{"aria-label":"Zoom In",disabled:!n.firstName,onClick:function(){return p(Z+.1)},children:(0,k.jsx)(g.Z,{fontSize:"large"})})]}):null}function E(e){var n=e.data,t=e.setData,o=l.useState(null),u=(0,s.Z)(o,2),c=u[0],d=u[1],f=l.useState(!0),j=(0,s.Z)(f,2),g=j[0],b=j[1],C=l.useState([]),N=(0,s.Z)(C,2),w=N[0],E=N[1];return l.useEffect((function(){function e(){return(e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.org.getShortOrgs();case 2:n=e.sent,E(n),b(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.useEffect((function(){b(!0),t({})}),[c,t]),l.useEffect((function(){function e(){return(e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.org.getOrgChart(c.id);case 2:n=e.sent,t(n),b(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g&&c?function(){e.apply(this,arguments)}():g&&!c&&b(!1)}),[g,c,t]),(0,k.jsx)(Z.ZP,{item:!0,xs:12,children:(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(h.Z,{children:(0,k.jsx)(x.Z,{fullWidth:!0,value:c,onChange:function(e,n){return d(n)},options:w,getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,k.jsx)(m.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"Team"}))}})}),(0,k.jsx)(y,{data:n}),g?(0,k.jsx)(v.Z,{}):null]})})}var P=function(e){var n=l.useState({}),t=(0,s.Z)(n,2),r=t[0],a=t[1];return(0,k.jsxs)(C.u,{children:[(0,k.jsx)(E,{data:r,setData:a}),r.firstName?(0,k.jsx)(b.Z,{chartClass:"chart",datasource:r,NodeTemplate:w,pan:!0,zoom:!0,collapsible:!1}):null]})}},7408:function(e,n,t){var r=t(9439),a=t(2791),s=t(68),i=t(3400),l=t(2363),o=t(4554),u=t(1889),c=t(7621),d=t(9585),f=t(8562),Z=t(4281),p=t(6601),h=t(6002),x=t(5584),m=t(1286),v=t(7247),j=t(1087),g=t(9015),b=t(9690),C=t(943),S=t(9917),N=t(184);function k(e){var n=e.title,t=e.url,r=e.children;return(0,N.jsx)(j.rU,{to:t,target:"_blank",children:(0,N.jsx)(s.Z,{title:n,children:(0,N.jsx)(i.Z,{"aria-label":n,children:r})})})}function w(e){var n=e.id,t=e.firstName,s=e.lastName,l=e.title,o=e.address,u=e.email,c=e.phone,d=e.supervisor,f=e.teams,Z=a.useContext(b.ZP),p=a.useState(!1),h=(0,r.Z)(p,2),x=h[0],j=h[1],k=a.useState(!1),w=(0,r.Z)(k,2),y=w[0],E=w[1];return Z.admin?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(i.Z,{"aria-label":"Edit Person",onClick:function(){return j(!0)},children:(0,N.jsx)(m.Z,{fontSize:"large"})}),(0,N.jsx)(i.Z,{"aria-label":"Delete Person",onClick:function(){return E(!0)},children:(0,N.jsx)(v.Z,{fontSize:"large"})}),(0,N.jsx)(g.Z,{open:x,close:function(){return j(!1)},person:{id:n,firstName:t,lastName:s,title:l,address:o,phone:c,email:u,supervisor:d,teams:f}}),(0,N.jsx)(C.Z,{open:y,close:function(){return E(!1)},callback:function(){return S.Z.people.deletePerson(n)},text:"Are you sure you want to delete the entry for ".concat(t," ").concat(s,"?")})]}):null}function y(e){var n=e.id,t=e.firstName,u=e.lastName,c=e.title,d=e.address,m=e.email,v=e.phone,j=e.supervisor,C=e.teams,S=a.useContext(b.ZP),y="";d&&(y="https://www.google.com/maps/place/".concat(encodeURIComponent(d)));var E=a.useState(!1),P=(0,r.Z)(E,2),O=P[0],W=P[1];return(0,N.jsxs)(l.Z,{children:[S.admin?null:(0,N.jsx)(s.Z,{title:"More Info",children:(0,N.jsx)(i.Z,{"aria-label":"More Info",onClick:function(){return W(!0)},children:(0,N.jsx)(x.Z,{fontSize:"large"})})}),(0,N.jsx)(w,{id:n,firstName:t,lastName:u,title:c,address:d,email:m,phone:v,supervisor:j,teams:C}),(0,N.jsx)(o.Z,{sx:{flexGrow:1}}),(0,N.jsx)(k,{title:"View Address",url:y,children:(0,N.jsx)(f.Z,{fontSize:"large"})}),(0,N.jsx)(k,{title:"Send Email",url:"mailto:".concat(m),children:(0,N.jsx)(Z.Z,{fontSize:"large"})}),(0,N.jsx)(k,{title:"Send Text",url:"sms:".concat(v),children:(0,N.jsx)(p.Z,{fontSize:"large"})}),(0,N.jsx)(k,{title:"Call",url:"tel:".concat(v),children:(0,N.jsx)(h.Z,{fontSize:"large"})}),(0,N.jsx)(g.Z,{open:O,close:function(){return W(!1)},viewOnly:!0,person:{id:n,firstName:t,lastName:u,title:c,address:d,phone:v,email:m,supervisor:j,teams:C}})]})}n.Z=function(e){var n=e.id,t=e.firstName,r=e.lastName,a=e.title,s=e.address,i=e.email,l=e.phone,o=e.supervisor,f=e.teams;return(0,N.jsx)(u.ZP,{item:!0,xs:12,children:(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(d.Z,{title:"".concat(t," ").concat(r),subheader:a}),(0,N.jsx)(y,{id:n,firstName:t,lastName:r,title:a,address:s,email:i,phone:l,supervisor:o,teams:f})]})})}},943:function(e,n,t){var r=t(5289),a=t(5661),s=t(9157),i=t(1691),l=t(7123),o=t(6151),u=(t(2791),t(184));n.Z=function(e){var n=e.open,t=e.close,c=e.callback,d=e.text;return(0,u.jsxs)(r.Z,{open:n,onClose:t,children:[(0,u.jsx)(a.Z,{align:"center",children:"Confirmation Dialog"}),(0,u.jsx)(s.Z,{children:(0,u.jsx)(i.Z,{children:d})}),(0,u.jsxs)(l.Z,{children:[(0,u.jsx)(o.Z,{variant:"contained",onClick:t,children:"Cancel"}),(0,u.jsx)(o.Z,{variant:"contained",onClick:function(){c(),t()},children:"Confirm"})]})]})}},9015:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(1413),a=t(9439),s=t(2791),i=t(5289),l=t(5661),o=t(9157),u=t(3767),c=t(7391),d=t(7123),f=t(6151),Z=t(9917),p=t(4165),h=t(5861),x=t(3766),m=t(184);var v=function(e){var n=e.value,t=e.setValue,i=e.disabled,l=s.useState(!0),o=(0,a.Z)(l,2),u=o[0],d=o[1],f=s.useState([]),v=(0,a.Z)(f,2),j=v[0],g=v[1];return s.useEffect((function(){function e(){return(e=(0,h.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.people.getShortPeople();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,m.jsx)(x.Z,{disabled:i,fullWidth:!0,loading:u,value:n,options:j,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,m.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Supervisor"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})};var j=function(e){var n=e.value,t=e.setValue,i=e.disabled,l=s.useState(!0),o=(0,a.Z)(l,2),u=o[0],d=o[1],f=s.useState([]),v=(0,a.Z)(f,2),j=v[0],g=v[1];return s.useEffect((function(){function e(){return(e=(0,h.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.org.getShortOrgs();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,m.jsx)(x.Z,{multiple:!0,disabled:i,fullWidth:!0,loading:u,value:n,options:j,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,m.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Team"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})},g={id:null,firstName:"",lastName:"",title:"",address:"",email:"",phone:"",supervisor:null,teams:[]};var b=function(e){var n=e.open,t=e.close,p=e.person,h=e.viewOnly,x=function(e){if(!e)return g;var n={};for(var t in g)void 0===e[t]?n[t]=g[t]:n[t]=e[t];return n}(p),b=s.useState(x),C=(0,a.Z)(b,2),S=C[0],N=C[1];function k(){h||null!==p&&void 0!==p&&p.id||N(g),t()}var w="Add New Person";return h?w="Person Info":null!==p&&void 0!==p&&p.id&&(w="Edit Info"),(0,m.jsxs)(i.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:k,children:[(0,m.jsx)(l.Z,{align:"center",children:w}),(0,m.jsx)(o.Z,{children:(0,m.jsxs)(u.Z,{spacing:1,sx:{marginTop:1},children:[(0,m.jsx)(c.Z,{disabled:h,label:"First Name",fullWidth:!0,value:S.firstName,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{firstName:e.target.value}))}}),(0,m.jsx)(c.Z,{disabled:h,label:"Last Name",fullWidth:!0,value:S.lastName,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{lastName:e.target.value}))}}),(0,m.jsx)(c.Z,{disabled:h,label:"Title",fullWidth:!0,value:S.title,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{title:e.target.value}))}}),(0,m.jsx)(c.Z,{disabled:h,label:"Address",fullWidth:!0,value:S.address,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{address:e.target.value}))}}),(0,m.jsx)(c.Z,{disabled:h,label:"Email",fullWidth:!0,value:S.email,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{email:e.target.value}))}}),(0,m.jsx)(c.Z,{disabled:h,label:"Phone",fullWidth:!0,value:S.phone,onChange:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{phone:e.target.value}))}}),(0,m.jsx)(v,{disabled:h,value:S.supervisor,setValue:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{supervisor:e}))}}),(0,m.jsx)(j,{disabled:h,value:S.teams,setValue:function(e){return N((0,r.Z)((0,r.Z)({},S),{},{teams:e}))}})]})}),(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(f.Z,{onClick:k,variant:"contained",children:h?"Close":"Cancel"}),h?null:(0,m.jsx)(f.Z,{onClick:function(){var e,n=(0,r.Z)({},S);null!==(e=S.supervisor)&&void 0!==e&&e.id&&(n.supervisor=S.supervisor.id),S.teams.length&&(n.teams=S.teams.map((function(e){return e.id}))),S.id?Z.Z.people.updatePerson(n):Z.Z.people.addPerson(n),k()},variant:"contained",children:"Submit"})]})]})}}}]);
//# sourceMappingURL=523.0b6ca795.chunk.js.map