"use strict";(self.webpackChunkaegis_frontend=self.webpackChunkaegis_frontend||[]).push([[141],{5141:function(e,n,t){t.r(n);var a=t(1413),i=t(4165),r=t(5861),l=t(9439),s=t(2791),o=t(3311),c=t(39),d=t(3967),u=t(5193),x=t(1889),f=t(7689),h=t(4927),Z=t(6280),p=t(5444),m=t(9347),j=t(184);function v(e){var n=e.people,t=(0,d.Z)(),a=(0,u.Z)(t.breakpoints.down("md")),i={title:!a,phone:!a,address:!a,email:!a};return(0,j.jsx)(x.ZP,{item:!0,xs:12,sx:{height:"calc(100vh - 65px - 155px)"},children:(0,j.jsx)(o._,{rows:n,columns:[{field:"firstName",headerName:"First Name",flex:.75},{field:"lastName",headerName:"Last Name",flex:.75},{field:"title",headerName:"Title",flex:1},{field:"supervisor",headerName:"Supervisor",flex:1},{field:"phone",headerName:"Phone",flex:1},{field:"address",headerName:"Address",flex:1.5},{field:"email",headerName:"Email",flex:1}],slots:{toolbar:c.n},initialState:{pagination:{paginationModel:{pageSize:12}},columns:{columnVisibilityModel:i}},pageSizeOptions:[5,12,25,50]})})}n.default=function(e){var n=(0,f.UO)().uuid,t=s.useState(!0),o=(0,l.Z)(t,2),c=o[0],d=o[1],u=s.useState({}),x=(0,l.Z)(u,2),g=x[0],b=x[1],k=s.useContext(p.Z);return s.useEffect((function(){d(!0)}),[k.api.driver,k.lastUpdate]),s.useEffect((function(){function e(){return(e=(0,r.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.api.org.getDetailedOrg(n);case 2:t=e.sent,b(t),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[n,k.api.org,c]),c?(0,j.jsxs)(h.u,{children:[(0,j.jsx)(m.LoadingSkeleton,{}),(0,j.jsx)(m.LoadingSkeleton,{})]}):(0,j.jsxs)(h.u,{children:[(0,j.jsx)(Z.Z,(0,a.Z)({noLink:!0},g)),(0,j.jsx)(v,{people:g.people})]})}},6280:function(e,n,t){t.d(n,{Z:function(){return G}});var a=t(4165),i=t(5861),r=t(9439),l=t(2791),s=t(3400),o=t(68),c=t(3967),d=t(1889),u=t(7621),x=t(9585),f=t(3044),h=t(2363),Z=t(4554),p=t(8562),m=t(4281),j=t(6002),v=t(5584),g=t(5536),b=t(1286),k=t(7247),C=t(1087),S=t(1413),w=t(1918),y=t(5289),N=t(5661),T=t(9157),W=t(3767),z=t(7391),E=t(4721),A=t(7123),P=t(6151),L=t(184);function U(e){var n=e.name,t=e.id;return(0,L.jsx)(C.rU,{to:"/people?search=".concat(t),style:{textDecoration:"none",color:"inherit"},children:(0,L.jsx)(w.Z,{label:n,color:"primary",clickable:!0})})}var _=function(e){var n=e.open,t=e.close,a=e.name,i=e.address,r=e.email,l=e.phone,s=e.admins||[];return(0,L.jsxs)(y.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:t,children:[(0,L.jsx)(N.Z,{align:"center",children:"Team Info"}),(0,L.jsx)(T.Z,{children:(0,L.jsxs)(W.Z,{spacing:1,sx:{marginTop:1},children:[(0,L.jsx)(z.Z,{disabled:!0,fullWidth:!0,label:"Name",value:a}),(0,L.jsx)(z.Z,{disabled:!0,fullWidth:!0,label:"Address",value:i}),(0,L.jsx)(z.Z,{disabled:!0,fullWidth:!0,label:"Email",value:r}),(0,L.jsx)(z.Z,{disabled:!0,fullWidth:!0,label:"Phone",value:l}),(0,L.jsx)(E.Z,{children:"Admins"}),(0,L.jsx)(W.Z,{direction:"row",spacing:1,children:s.map((function(e){return(0,L.jsx)(U,(0,S.Z)({},e),e.id)}))})]})}),(0,L.jsx)(A.Z,{children:(0,L.jsx)(P.Z,{variant:"contained",onClick:t,children:"Close"})})]})},D=t(9690),M=t(593),I=t(943),O=t(5444);function F(e){var n=e.team,t=l.useContext(D.ZP),o=l.useContext(O.Z),c=l.useState(!1),d=(0,r.Z)(c,2),u=d[0],x=d[1],f=l.useState(!1),h=(0,r.Z)(f,2),Z=h[0],p=h[1];function m(){return(m=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.api.org.deleteTeam(n.id);case 2:o.update();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.admin?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(s.Z,{"aria-label":"Edit Team",onClick:function(){return x(!0)},children:(0,L.jsx)(b.Z,{fontSize:"large"})}),(0,L.jsx)(s.Z,{"aria-label":"Delete Team",onClick:function(){return p(!0)},children:(0,L.jsx)(k.Z,{fontSize:"large"})}),(0,L.jsx)(M.Z,{open:u,close:function(){return x(!1)},team:n}),(0,L.jsx)(I.Z,{open:Z,close:function(){return p(!1)},callback:function(){return m.apply(this,arguments)},text:"Are you sure you want to delete the entry for ".concat(n.name,"?")})]}):null}function V(e){var n=e.title,t=e.to,a=e.icon,i=e.external;return t?(0,L.jsx)(C.rU,{to:t,target:i?"_blank":"_self",children:(0,L.jsx)(o.Z,{title:n,children:(0,L.jsx)(s.Z,{"aria-label":n,children:a})})}):(0,L.jsx)(o.Z,{title:n,children:(0,L.jsx)("span",{children:(0,L.jsx)(s.Z,{"aria-label":n,disabled:!0,children:a})})})}var G=function(e){var n=(0,c.Z)(),t=e.name,a=e.id,i=e.memberCount,b=e.address,k=e.email,C=e.phone,S=e.admins,w=e.noLink,y="";b&&(y="https://www.google.com/maps/place/".concat(encodeURIComponent(b)));var N="";k&&(N="mailto:".concat(k));var T="";C&&(T="tel:".concat(C));var W=l.useState(!1),z=(0,r.Z)(W,2),E=z[0],A=z[1];return l.useEffect((function(){return function(){return A(!1)}}),[]),(0,L.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,L.jsxs)(u.Z,{children:[(0,L.jsx)(x.Z,{title:t,titleTypographyProps:{variant:"h5"},avatar:(0,L.jsx)(o.Z,{title:"Member Count",children:(0,L.jsx)(f.Z,{sx:{bgcolor:n.palette.primary.dark},children:i})})}),(0,L.jsxs)(h.Z,{children:[(0,L.jsx)(o.Z,{title:"More Info",children:(0,L.jsx)(s.Z,{onClick:function(){return A(!0)},children:(0,L.jsx)(v.Z,{fontSize:"large"})})}),w?null:(0,L.jsx)(V,{title:"Details",to:"/teams/".concat(a),icon:(0,L.jsx)(g.Z,{fontSize:"large"})}),(0,L.jsx)(F,{team:{id:a,name:t,address:b,phone:C,email:k}}),(0,L.jsx)(Z.Z,{sx:{flexGrow:1}}),(0,L.jsx)(V,{external:!0,title:"View Address",to:y,icon:(0,L.jsx)(p.Z,{fontSize:"large"})}),(0,L.jsx)(V,{external:!0,title:"Send Email",to:N,icon:(0,L.jsx)(m.Z,{fontSize:"large"})}),(0,L.jsx)(V,{external:!0,title:"Call",to:T,icon:(0,L.jsx)(j.Z,{fontSize:"large"})})]})]}),(0,L.jsx)(_,{open:E,close:function(){return A(!1)},name:t,address:b,email:k,phone:C,admins:S})]})}},593:function(e,n,t){var a=t(4165),i=t(1413),r=t(5861),l=t(9439),s=t(2791),o=t(5289),c=t(5661),d=t(9157),u=t(3767),x=t(7391),f=t(7123),h=t(6151),Z=t(5444),p=t(184),m={id:null,name:"",address:"",email:"",phone:""};n.Z=function(e){var n=e.open,t=e.close,j=e.team,v=m;null!==j&&void 0!==j&&j.id&&(v=j);var g=s.useState(v),b=(0,l.Z)(g,2),k=b[0],C=b[1],S=s.useContext(Z.Z).api;function w(){null!==j&&void 0!==j&&j.id||C(m),t()}function y(){return(y=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===j||void 0===j||!j.id){e.next=5;break}return e.next=3,S.org.editTeam(k);case 3:e.next=7;break;case 5:return e.next=7,S.org.addTeam(k);case 7:w();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,p.jsxs)(o.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:w,children:[(0,p.jsx)(c.Z,{align:"center",children:null!==j&&void 0!==j&&j.id?"Edit Team":"Add New Team"}),(0,p.jsx)(d.Z,{children:(0,p.jsxs)(u.Z,{spacing:1,sx:{marginTop:1},children:[(0,p.jsx)(x.Z,{label:"Name",fullWidth:!0,value:k.name,onChange:function(e){return C((0,i.Z)((0,i.Z)({},k),{},{name:e.target.value}))}}),(0,p.jsx)(x.Z,{label:"Address",fullWidth:!0,value:k.address,onChange:function(e){return C((0,i.Z)((0,i.Z)({},k),{},{address:e.target.value}))}}),(0,p.jsx)(x.Z,{label:"Email",fullWidth:!0,value:k.email,onChange:function(e){return C((0,i.Z)((0,i.Z)({},k),{},{email:e.target.value}))}}),(0,p.jsx)(x.Z,{label:"Phone",fullWidth:!0,value:k.phone,onChange:function(e){return C((0,i.Z)((0,i.Z)({},k),{},{phone:e.target.value}))}})]})}),(0,p.jsxs)(f.Z,{children:[(0,p.jsx)(h.Z,{variant:"contained",onClick:w,children:"Cancel"}),(0,p.jsx)(h.Z,{variant:"contained",onClick:function(){return y.apply(this,arguments)},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=141.64627f1b.chunk.js.map