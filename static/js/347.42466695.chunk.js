"use strict";(self.webpackChunkaegis_frontend=self.webpackChunkaegis_frontend||[]).push([[347],{9347:function(e,n,t){t.r(n),t.d(n,{LoadingSkeleton:function(){return C},SearchBar:function(){return g}});var r=t(1413),a=t(7762),i=t(4165),s=t(5861),l=t(9439),o=t(2791),u=t(1889),c=t(7621),d=t(9504),f=t(7391),Z=t(6151),h=t(7047),p=t(4927),x=t(7408),v=t(9917),m=t(4891),j=t(184);function g(e){var n=e.search,t=e.setSearch,r=o.useState(n),a=(0,l.Z)(r,2),i=a[0],s=a[1];return(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(c.Z,{sx:{width:"100%"},children:(0,j.jsx)(d.Z,{children:(0,j.jsxs)(m.Z,{alignItems:"flex-end",spacing:1,children:[(0,j.jsx)(f.Z,{fullWidth:!0,type:"search",label:"Search",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(i)}}),(0,j.jsx)(Z.Z,{variant:"contained",onClick:function(){return t(i)},children:"Search"})]})})})})}function C(e){return(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(h.Z,{variant:"rectangular",height:"15vh",width:"100%"})})}n.default=function(e){var n=o.useState(!0),t=(0,l.Z)(n,2),u=t[0],c=t[1],d=o.useState([]),f=(0,l.Z)(d,2),Z=f[0],h=f[1],m=o.useState([]),b=(0,l.Z)(m,2),S=b[0],w=b[1];o.useEffect((function(){function e(){return(e=(0,s.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.people.getPeople();case 2:n=e.sent,h(n),w(n),c(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=o.useState(""),k=(0,l.Z)(N,2),y=k[0],P=k[1];return o.useEffect((function(){c(!0)}),[y]),o.useEffect((function(){if(Z&&y&&u){var e,n=y.toLowerCase(),t=[],r=(0,a.Z)(Z);try{for(r.s();!(e=r.n()).done;){var i=e.value;("".concat(i.firstName," ").concat(i.lastName).toLowerCase().includes(n)||i.email.toLowerCase().includes(n)||i.phone.toLowerCase().includes(n)||i.address.toLowerCase().includes(n))&&t.push(i)}}catch(s){r.e(s)}finally{r.f()}w(t),c(!1)}else Z&&u&&!y&&(w(Z),c(!1))}),[Z,y,u,w]),(0,j.jsxs)(p.u,{children:[(0,j.jsx)(g,{search:y,setSearch:P}),u?[1,2,3,4,5].map((function(e){return(0,j.jsx)(C,{},e)})):S.map((function(e){return(0,j.jsx)(x.Z,(0,r.Z)({},e),e.id)}))]})}},7408:function(e,n,t){var r=t(9439),a=t(2791),i=t(68),s=t(3400),l=t(2363),o=t(4554),u=t(1889),c=t(7621),d=t(9585),f=t(8562),Z=t(4281),h=t(6601),p=t(6002),x=t(5584),v=t(1286),m=t(7247),j=t(1087),g=t(9015),C=t(9690),b=t(943),S=t(9917),w=t(184);function N(e){var n=e.title,t=e.url,r=e.children;return(0,w.jsx)(j.rU,{to:t,target:"_blank",children:(0,w.jsx)(i.Z,{title:n,children:(0,w.jsx)(s.Z,{"aria-label":n,children:r})})})}function k(e){var n=e.id,t=e.firstName,i=e.lastName,l=e.title,o=e.address,u=e.email,c=e.phone,d=e.supervisor,f=e.teams,Z=a.useContext(C.ZP),h=a.useState(!1),p=(0,r.Z)(h,2),x=p[0],j=p[1],N=a.useState(!1),k=(0,r.Z)(N,2),y=k[0],P=k[1];return Z.admin?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Z,{"aria-label":"Edit Person",onClick:function(){return j(!0)},children:(0,w.jsx)(v.Z,{fontSize:"large"})}),(0,w.jsx)(s.Z,{"aria-label":"Delete Person",onClick:function(){return P(!0)},children:(0,w.jsx)(m.Z,{fontSize:"large"})}),(0,w.jsx)(g.Z,{open:x,close:function(){return j(!1)},person:{id:n,firstName:t,lastName:i,title:l,address:o,phone:c,email:u,supervisor:d,teams:f}}),(0,w.jsx)(b.Z,{open:y,close:function(){return P(!1)},callback:function(){return S.Z.people.deletePerson(n)},text:"Are you sure you want to delete the entry for ".concat(t," ").concat(i,"?")})]}):null}function y(e){var n=e.id,t=e.firstName,u=e.lastName,c=e.title,d=e.address,v=e.email,m=e.phone,j=e.supervisor,b=e.teams,S=a.useContext(C.ZP),y="";d&&(y="https://www.google.com/maps/place/".concat(encodeURIComponent(d)));var P=a.useState(!1),E=(0,r.Z)(P,2),W=E[0],L=E[1];return(0,w.jsxs)(l.Z,{children:[S.admin?null:(0,w.jsx)(i.Z,{title:"More Info",children:(0,w.jsx)(s.Z,{"aria-label":"More Info",onClick:function(){return L(!0)},children:(0,w.jsx)(x.Z,{fontSize:"large"})})}),(0,w.jsx)(k,{id:n,firstName:t,lastName:u,title:c,address:d,email:v,phone:m,supervisor:j,teams:b}),(0,w.jsx)(o.Z,{sx:{flexGrow:1}}),(0,w.jsx)(N,{title:"View Address",url:y,children:(0,w.jsx)(f.Z,{fontSize:"large"})}),(0,w.jsx)(N,{title:"Send Email",url:"mailto:".concat(v),children:(0,w.jsx)(Z.Z,{fontSize:"large"})}),(0,w.jsx)(N,{title:"Send Text",url:"sms:".concat(m),children:(0,w.jsx)(h.Z,{fontSize:"large"})}),(0,w.jsx)(N,{title:"Call",url:"tel:".concat(m),children:(0,w.jsx)(p.Z,{fontSize:"large"})}),(0,w.jsx)(g.Z,{open:W,close:function(){return L(!1)},viewOnly:!0,person:{id:n,firstName:t,lastName:u,title:c,address:d,phone:m,email:v,supervisor:j,teams:b}})]})}n.Z=function(e){var n=e.id,t=e.firstName,r=e.lastName,a=e.title,i=e.address,s=e.email,l=e.phone,o=e.supervisor,f=e.teams;return(0,w.jsx)(u.ZP,{item:!0,xs:12,children:(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(d.Z,{title:"".concat(t," ").concat(r),subheader:a}),(0,w.jsx)(y,{id:n,firstName:t,lastName:r,title:a,address:i,email:s,phone:l,supervisor:o,teams:f})]})})}},943:function(e,n,t){var r=t(5289),a=t(5661),i=t(9157),s=t(1691),l=t(7123),o=t(6151),u=(t(2791),t(184));n.Z=function(e){var n=e.open,t=e.close,c=e.callback,d=e.text;return(0,u.jsxs)(r.Z,{open:n,onClose:t,children:[(0,u.jsx)(a.Z,{align:"center",children:"Confirmation Dialog"}),(0,u.jsx)(i.Z,{children:(0,u.jsx)(s.Z,{children:d})}),(0,u.jsxs)(l.Z,{children:[(0,u.jsx)(o.Z,{variant:"contained",onClick:t,children:"Cancel"}),(0,u.jsx)(o.Z,{variant:"contained",onClick:function(){c(),t()},children:"Confirm"})]})]})}},9015:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(1413),a=t(9439),i=t(2791),s=t(5289),l=t(5661),o=t(9157),u=t(3767),c=t(7391),d=t(7123),f=t(6151),Z=t(9917),h=t(4165),p=t(5861),x=t(3766),v=t(184);var m=function(e){var n=e.value,t=e.setValue,s=e.disabled,l=i.useState(!0),o=(0,a.Z)(l,2),u=o[0],d=o[1],f=i.useState([]),m=(0,a.Z)(f,2),j=m[0],g=m[1];return i.useEffect((function(){function e(){return(e=(0,p.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.people.getShortPeople();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,v.jsx)(x.Z,{disabled:s,fullWidth:!0,loading:u,value:n,options:j,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,v.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Supervisor"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})};var j=function(e){var n=e.value,t=e.setValue,s=e.disabled,l=i.useState(!0),o=(0,a.Z)(l,2),u=o[0],d=o[1],f=i.useState([]),m=(0,a.Z)(f,2),j=m[0],g=m[1];return i.useEffect((function(){function e(){return(e=(0,p.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.org.getShortOrgs();case 2:n=e.sent,g(n),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,v.jsx)(x.Z,{multiple:!0,disabled:s,fullWidth:!0,loading:u,value:n,options:j,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(n)},renderInput:function(e){return(0,v.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"Team"}))},isOptionEqualToValue:function(e,n){return e.id===n.id}})},g={id:null,firstName:"",lastName:"",title:"",address:"",email:"",phone:"",supervisor:null,teams:[]};var C=function(e){var n=e.open,t=e.close,h=e.person,p=e.viewOnly,x=function(e){if(!e)return g;var n={};for(var t in g)void 0===e[t]?n[t]=g[t]:n[t]=e[t];return n}(h),C=i.useState(x),b=(0,a.Z)(C,2),S=b[0],w=b[1];function N(){p||null!==h&&void 0!==h&&h.id||w(g),t()}var k="Add New Person";return p?k="Person Info":null!==h&&void 0!==h&&h.id&&(k="Edit Info"),(0,v.jsxs)(s.Z,{maxWidth:"sm",fullWidth:!0,open:n,onClose:N,children:[(0,v.jsx)(l.Z,{align:"center",children:k}),(0,v.jsx)(o.Z,{children:(0,v.jsxs)(u.Z,{spacing:1,sx:{marginTop:1},children:[(0,v.jsx)(c.Z,{disabled:p,label:"First Name",fullWidth:!0,value:S.firstName,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{firstName:e.target.value}))}}),(0,v.jsx)(c.Z,{disabled:p,label:"Last Name",fullWidth:!0,value:S.lastName,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{lastName:e.target.value}))}}),(0,v.jsx)(c.Z,{disabled:p,label:"Title",fullWidth:!0,value:S.title,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{title:e.target.value}))}}),(0,v.jsx)(c.Z,{disabled:p,label:"Address",fullWidth:!0,value:S.address,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{address:e.target.value}))}}),(0,v.jsx)(c.Z,{disabled:p,label:"Email",fullWidth:!0,value:S.email,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{email:e.target.value}))}}),(0,v.jsx)(c.Z,{disabled:p,label:"Phone",fullWidth:!0,value:S.phone,onChange:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{phone:e.target.value}))}}),(0,v.jsx)(m,{disabled:p,value:S.supervisor,setValue:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{supervisor:e}))}}),(0,v.jsx)(j,{disabled:p,value:S.teams,setValue:function(e){return w((0,r.Z)((0,r.Z)({},S),{},{teams:e}))}})]})}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(f.Z,{onClick:N,variant:"contained",children:p?"Close":"Cancel"}),p?null:(0,v.jsx)(f.Z,{onClick:function(){var e,n=(0,r.Z)({},S);null!==(e=S.supervisor)&&void 0!==e&&e.id&&(n.supervisor=S.supervisor.id),S.teams.length&&(n.teams=S.teams.map((function(e){return e.id}))),S.id?Z.Z.people.updatePerson(n):Z.Z.people.addPerson(n),N()},variant:"contained",children:"Submit"})]})]})}}}]);
//# sourceMappingURL=347.42466695.chunk.js.map